{"ast":null,"code":"import _objectSpread from\"/home/douglas/Downloads/ProShop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/home/douglas/Downloads/ProShop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"isAdmin\",\"component\"];import React,{Fragment}from'react';import{Route,Redirect}from'react-router-dom';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";var ProtectedRoute=function ProtectedRoute(_ref){var isAdmin=_ref.isAdmin,Component=_ref.component,rest=_objectWithoutProperties(_ref,_excluded);var _useSelector=useSelector(function(state){return state.auth;}),isAuthenticated=_useSelector.isAuthenticated,loading=_useSelector.loading,user=_useSelector.user;return/*#__PURE__*/_jsx(Fragment,{children:loading===false&&/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){if(isAuthenticated===false){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}if(isAdmin===true&&user.role!=='admin'){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsx(Component,_objectSpread({},props));}}))});};export default ProtectedRoute;","map":{"version":3,"sources":["/home/douglas/Downloads/ProShop/frontend/src/components/route/ProtectedRoute.js"],"names":["React","Fragment","Route","Redirect","useSelector","ProtectedRoute","isAdmin","Component","component","rest","state","auth","isAuthenticated","loading","user","props","role"],"mappings":"uXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,KAAT,CAAgBC,QAAhB,KAAgC,kBAAhC,CACA,OAASC,WAAT,KAA4B,aAA5B,C,2CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAgD,IAA7CC,CAAAA,OAA6C,MAA7CA,OAA6C,CAAzBC,SAAyB,MAApCC,SAAoC,CAAXC,IAAW,0CAEnE,iBAA2CL,WAAW,CAAC,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACC,IAAV,EAAN,CAAtD,CAAQC,eAAR,cAAQA,eAAR,CAAyBC,OAAzB,cAAyBA,OAAzB,CAAkCC,IAAlC,cAAkCA,IAAlC,CAEA,mBACI,KAAC,QAAD,WACKD,OAAO,GAAK,KAAZ,eACG,KAAC,KAAD,gCACQJ,IADR,MAEI,MAAM,CAAE,gBAAAM,KAAK,CAAI,CACb,GAAIH,eAAe,GAAK,KAAxB,CAA+B,CAC3B,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAP,CACH,CAED,GAAIN,OAAO,GAAK,IAAZ,EAAoBQ,IAAI,CAACE,IAAL,GAAc,OAAtC,CAA+C,CAC3C,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACH,CAED,mBAAO,KAAC,SAAD,kBAAeD,KAAf,EAAP,CACH,CAZL,GAFR,EADJ,CAoBH,CAxBD,CA0BA,cAAeV,CAAAA,cAAf","sourcesContent":["import React, { Fragment } from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst ProtectedRoute = ({ isAdmin, component: Component, ...rest }) => {\n\n    const { isAuthenticated, loading, user } = useSelector(state => state.auth)\n\n    return (\n        <Fragment>\n            {loading === false && (\n                <Route\n                    {...rest}\n                    render={props => {\n                        if (isAuthenticated === false) {\n                            return <Redirect to='/login' />\n                        }\n\n                        if (isAdmin === true && user.role !== 'admin') {\n                            return <Redirect to=\"/\" />\n                        }\n\n                        return <Component {...props} />\n                    }}\n                />\n            )}\n        </Fragment>\n    )\n}\n\nexport default ProtectedRoute\n"]},"metadata":{},"sourceType":"module"}