{"ast":null,"code":"var _jsxFileName = \"/home/douglas/Pictures/deploy ecommerce to aws/frontend/src/components/admin/pages/processOrder/ProcessOrder.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport MetaData from '../../../layout/MetaData';\nimport Loader from '../../../layout/Loader';\nimport Sidebar from '../../sidebar/Sidebar';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getOrderDetails, updateOrder, clearErrors } from '../../../../actions/orderActions';\nimport { UPDATE_ORDER_RESET } from '../../../../constants/orderConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProcessOrder = ({\n  match\n}) => {\n  _s();\n\n  const [status, setStatus] = useState('');\n  const alert = useAlert();\n  const dispatch = useDispatch();\n  const {\n    loading,\n    order = {}\n  } = useSelector(state => state.orderDetails);\n  const {\n    shippingInfo,\n    orderItems,\n    paymentInfo,\n    user,\n    totalPrice,\n    orderStatus\n  } = order;\n  const {\n    error,\n    isUpdated\n  } = useSelector(state => state.order);\n  const orderId = match.params.id;\n  useEffect(() => {\n    dispatch(getOrderDetails(orderId));\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (isUpdated) {\n      alert.success('Order updated successfully');\n      dispatch({\n        type: UPDATE_ORDER_RESET\n      });\n    }\n  }, [dispatch, alert, error, isUpdated, orderId]);\n\n  const updateOrderHandler = id => {\n    const formData = new FormData();\n    formData.set('status', status);\n    dispatch(updateOrder(id, formData));\n  };\n\n  const shippingDetails = shippingInfo && `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`;\n  const isPaid = paymentInfo && paymentInfo.status === 'succeeded' ? true : false;\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: `Process Order # ${order && order._id}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-11 col-md-10\",\n        children: /*#__PURE__*/_jsxDEV(Fragment, {\n          children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row d-flex justify-content-around\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-7 order-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"my-5\",\n                children: [\"Order # \", order._id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"mb-4\",\n                children: \"Shipping Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 21\n                }, this), \" \", user && user.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Phone:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 21\n                }, this), \" \", shippingInfo && shippingInfo.phoneNo]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this), shippingDetails]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Amount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 21\n                }, this), \" $\", totalPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"my-4\",\n                children: \"Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: isPaid ? 'greenColor' : 'redColor',\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: isPaid ? 'PAID' : 'NOT PAID'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"my-4\",\n                children: \"Stripe ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: paymentInfo && paymentInfo.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"my-4\",\n                children: \"Order Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: order.orderStatus && String(order.orderStatus).includes('Delivered') ? 'greenColor' : 'redColor',\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: orderStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"my-4\",\n                children: \"Order Items:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-item my-1\",\n                children: orderItems && orderItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row my-5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-4 col-lg-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: item.image,\n                      alt: item.name,\n                      height: \"45\",\n                      width: \"65\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-5 col-lg-5\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/products/${item.product}`,\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-4 col-lg-2 mt-4 mt-lg-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"$\", item.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-4 col-lg-3 mt-4 mt-lg-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [item.quantity, \" Piece(s)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 27\n                  }, this)]\n                }, item.product, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-3 mt-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"my-4\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-control\",\n                  name: \"status\",\n                  value: status,\n                  onChange: e => setStatus(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Processing\",\n                    children: \"Processing\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Shipped\",\n                    children: \"Shipped\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Delivered\",\n                    children: \"Delivered\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary btn-block\",\n                onClick: () => updateOrderHandler(order._id),\n                children: \"Update Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProcessOrder, \"ZH7u4i0afun9sk1EEy+1P/ZMDdM=\", false, function () {\n  return [useAlert, useDispatch, useSelector, useSelector];\n});\n\n_c = ProcessOrder;\nexport default ProcessOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProcessOrder\");","map":{"version":3,"sources":["/home/douglas/Pictures/deploy ecommerce to aws/frontend/src/components/admin/pages/processOrder/ProcessOrder.js"],"names":["React","Fragment","useState","useEffect","Link","MetaData","Loader","Sidebar","useAlert","useDispatch","useSelector","getOrderDetails","updateOrder","clearErrors","UPDATE_ORDER_RESET","ProcessOrder","match","status","setStatus","alert","dispatch","loading","order","state","orderDetails","shippingInfo","orderItems","paymentInfo","user","totalPrice","orderStatus","error","isUpdated","orderId","params","id","success","type","updateOrderHandler","formData","FormData","set","shippingDetails","address","city","postalCode","country","isPaid","_id","name","phoneNo","String","includes","map","item","image","product","price","quantity","e","target","value"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport MetaData from '../../../layout/MetaData';\nimport Loader from '../../../layout/Loader';\nimport Sidebar from '../../sidebar/Sidebar';\n\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getOrderDetails,\n  updateOrder,\n  clearErrors,\n} from '../../../../actions/orderActions';\nimport { UPDATE_ORDER_RESET } from '../../../../constants/orderConstants';\n\nconst ProcessOrder = ({ match }) => {\n  const [status, setStatus] = useState('');\n\n  const alert = useAlert();\n  const dispatch = useDispatch();\n\n  const { loading, order = {} } = useSelector((state) => state.orderDetails);\n  const {\n    shippingInfo,\n    orderItems,\n    paymentInfo,\n    user,\n    totalPrice,\n    orderStatus,\n  } = order;\n  const { error, isUpdated } = useSelector((state) => state.order);\n\n  const orderId = match.params.id;\n\n  useEffect(() => {\n    dispatch(getOrderDetails(orderId));\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (isUpdated) {\n      alert.success('Order updated successfully');\n      dispatch({ type: UPDATE_ORDER_RESET });\n    }\n  }, [dispatch, alert, error, isUpdated, orderId]);\n\n  const updateOrderHandler = (id) => {\n    const formData = new FormData();\n    formData.set('status', status);\n\n    dispatch(updateOrder(id, formData));\n  };\n\n  const shippingDetails =\n    shippingInfo &&\n    `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`;\n  const isPaid =\n    paymentInfo && paymentInfo.status === 'succeeded' ? true : false;\n\n  return (\n    <Fragment>\n      <MetaData title={`Process Order # ${order && order._id}`} />\n      <>\n        <Sidebar />\n\n        <div className=\"col-11 col-md-10\">\n          <Fragment>\n            {loading ? (\n              <Loader />\n            ) : (\n              <div className=\"row d-flex justify-content-around\">\n                <div className=\"col-12 col-lg-7 order-details\">\n                  <h2 className=\"my-5\">Order # {order._id}</h2>\n\n                  <h4 className=\"mb-4\">Shipping Info</h4>\n                  <p>\n                    <b>Name:</b> {user && user.name}\n                  </p>\n                  <p>\n                    <b>Phone:</b> {shippingInfo && shippingInfo.phoneNo}\n                  </p>\n                  <p className=\"mb-4\">\n                    <b>Address:</b>\n                    {shippingDetails}\n                  </p>\n                  <p>\n                    <b>Amount:</b> ${totalPrice}\n                  </p>\n\n                  <hr />\n\n                  <h4 className=\"my-4\">Payment</h4>\n                  <p className={isPaid ? 'greenColor' : 'redColor'}>\n                    <b>{isPaid ? 'PAID' : 'NOT PAID'}</b>\n                  </p>\n\n                  <h4 className=\"my-4\">Stripe ID</h4>\n                  <p>\n                    <b>{paymentInfo && paymentInfo.id}</b>\n                  </p>\n\n                  <h4 className=\"my-4\">Order Status:</h4>\n                  <p\n                    className={\n                      order.orderStatus &&\n                      String(order.orderStatus).includes('Delivered')\n                        ? 'greenColor'\n                        : 'redColor'\n                    }\n                  >\n                    <b>{orderStatus}</b>\n                  </p>\n\n                  <h4 className=\"my-4\">Order Items:</h4>\n\n                  <hr />\n                  <div className=\"cart-item my-1\">\n                    {orderItems &&\n                      orderItems.map((item) => (\n                        <div key={item.product} className=\"row my-5\">\n                          <div className=\"col-4 col-lg-2\">\n                            <img\n                              src={item.image}\n                              alt={item.name}\n                              height=\"45\"\n                              width=\"65\"\n                            />\n                          </div>\n\n                          <div className=\"col-5 col-lg-5\">\n                            <Link to={`/products/${item.product}`}>\n                              {item.name}\n                            </Link>\n                          </div>\n\n                          <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\n                            <p>${item.price}</p>\n                          </div>\n\n                          <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\n                            <p>{item.quantity} Piece(s)</p>\n                          </div>\n                        </div>\n                      ))}\n                  </div>\n                  <hr />\n                </div>\n\n                <div className=\"col-12 col-lg-3 mt-5\">\n                  <h4 className=\"my-4\">Status</h4>\n\n                  <div className=\"form-group\">\n                    <select\n                      className=\"form-control\"\n                      name=\"status\"\n                      value={status}\n                      onChange={(e) => setStatus(e.target.value)}\n                    >\n                      <option value=\"Processing\">Processing</option>\n                      <option value=\"Shipped\">Shipped</option>\n                      <option value=\"Delivered\">Delivered</option>\n                    </select>\n                  </div>\n\n                  <button\n                    className=\"btn btn-primary btn-block\"\n                    onClick={() => updateOrderHandler(order._id)}\n                  >\n                    Update Status\n                  </button>\n                </div>\n              </div>\n            )}\n          </Fragment>\n        </div>\n      </>\n    </Fragment>\n  );\n};\n\nexport default ProcessOrder;\n"]},"metadata":{},"sourceType":"module"}