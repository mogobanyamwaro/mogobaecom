{"ast":null,"code":"import _slicedToArray from\"/home/douglas/Downloads/ProShop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import Pagination from'react-js-pagination';import Slider from'rc-slider';import'rc-slider/assets/index.css';import MetaData from'./layout/MetaData';import Product from'./product/Product';import Loader from'./layout/Loader';import{useDispatch,useSelector}from'react-redux';import{useAlert}from'react-alert';import{getProducts}from'../actions/productActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var createSliderWithTooltip=Slider.createSliderWithTooltip;var Range=createSliderWithTooltip(Slider.Range);var Home=function Home(_ref){var match=_ref.match;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState([1,1000]),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),rating=_useState8[0],setRating=_useState8[1];var categories=['Electronics','Cameras','Laptops','Accessories','Headphones','Food','Books','Clothes/Shoes','Beauty/Health','Sports','Outdoor','Home'];var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.products;}),loading=_useSelector.loading,products=_useSelector.products,error=_useSelector.error,productsCount=_useSelector.productsCount,resPerPage=_useSelector.resPerPage,filteredProductsCount=_useSelector.filteredProductsCount;var keyword=match.params.keyword;useEffect(function(){if(error){return alert.error(error);}dispatch(getProducts(keyword,currentPage,price,category,rating));},[dispatch,alert,error,keyword,currentPage,price,category,rating]);function setCurrentPageNo(pageNumber){setCurrentPage(pageNumber);}var count=productsCount;if(keyword){count=filteredProductsCount;}return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Buy Best Products Online'}),/*#__PURE__*/_jsx(\"h1\",{id:\"products_heading\",children:\"Jumia Products\"}),/*#__PURE__*/_jsx(\"section\",{id:\"products\",className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:keyword?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-3 mt-5 mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-5\",children:[/*#__PURE__*/_jsx(Range,{marks:{1:\"$1\",1000:\"$1000\"},min:1,max:1000,defaultValue:[1,1000],tipFormatter:function tipFormatter(value){return\"$\".concat(value);},tipProps:{placement:'top',visible:true},value:price,onChange:function onChange(price){return setPrice(price);}}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"pl-0\",children:categories.map(function(category){return/*#__PURE__*/_jsx(\"li\",{style:{cursor:'pointer',listStyleType:'none'},onClick:function onClick(){return setCategory(category);},children:category},category);})})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Ratings\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"pl-0\",children:[5,4,3,2,1].map(function(star){return/*#__PURE__*/_jsx(\"li\",{style:{cursor:'pointer',listStyleType:'none'},onClick:function onClick(){return setRating(star);},children:/*#__PURE__*/_jsx(\"div\",{className:\"rating-outer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rating-inner\",style:{width:\"\".concat(star*20,\"%\")}})})},star);})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-9\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products.map(function(product){return/*#__PURE__*/_jsx(Product,{product:product,col:4},product._id);})})})]}):products.map(function(product){return/*#__PURE__*/_jsx(Product,{product:product,col:3},product._id);})})}),resPerPage<=count&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-5\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:resPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:'Next',prevPageText:'Prev',firstPageText:'First',lastPageText:'Last',itemClass:\"page-item\",linkClass:\"page-link\"})})]})});};export default Home;","map":{"version":3,"sources":["/home/douglas/Downloads/ProShop/frontend/src/components/Home.js"],"names":["React","Fragment","useState","useEffect","Pagination","Slider","MetaData","Product","Loader","useDispatch","useSelector","useAlert","getProducts","createSliderWithTooltip","Range","Home","match","currentPage","setCurrentPage","price","setPrice","category","setCategory","rating","setRating","categories","alert","dispatch","state","products","loading","error","productsCount","resPerPage","filteredProductsCount","keyword","params","setCurrentPageNo","pageNumber","count","value","placement","visible","map","cursor","listStyleType","star","width","product","_id"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport Pagination from 'react-js-pagination';\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\n\nimport MetaData from './layout/MetaData';\nimport Product from './product/Product';\nimport Loader from './layout/Loader';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useAlert } from 'react-alert';\nimport { getProducts } from '../actions/productActions';\n\nconst { createSliderWithTooltip } = Slider;\nconst Range = createSliderWithTooltip(Slider.Range);\n\nconst Home = ({ match }) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [price, setPrice] = useState([1, 1000]);\n  const [category, setCategory] = useState('');\n  const [rating, setRating] = useState(0);\n\n  const categories = [\n    'Electronics',\n    'Cameras',\n    'Laptops',\n    'Accessories',\n    'Headphones',\n    'Food',\n    'Books',\n    'Clothes/Shoes',\n    'Beauty/Health',\n    'Sports',\n    'Outdoor',\n    'Home',\n  ];\n\n  const alert = useAlert();\n  const dispatch = useDispatch();\n\n  const {\n    loading,\n    products,\n    error,\n    productsCount,\n    resPerPage,\n    filteredProductsCount,\n  } = useSelector((state) => state.products);\n\n  const keyword = match.params.keyword;\n\n  useEffect(() => {\n    if (error) {\n      return alert.error(error);\n    }\n\n    dispatch(getProducts(keyword, currentPage, price, category, rating));\n  }, [dispatch, alert, error, keyword, currentPage, price, category, rating]);\n\n  function setCurrentPageNo(pageNumber) {\n    setCurrentPage(pageNumber);\n  }\n\n  let count = productsCount;\n  if (keyword) {\n    count = filteredProductsCount;\n  }\n\n  return (\n    <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <MetaData title={'Buy Best Products Online'} />\n\n          <h1 id=\"products_heading\">Jumia Products</h1>\n\n          <section id=\"products\" className=\"container mt-5\">\n            <div className=\"row\">\n              {keyword ? (\n                <Fragment>\n                  <div className=\"col-6 col-md-3 mt-5 mb-5\">\n                    <div className=\"px-5\">\n                      <Range\n                        marks={{\n                          1: `$1`,\n                          1000: `$1000`,\n                        }}\n                        min={1}\n                        max={1000}\n                        defaultValue={[1, 1000]}\n                        tipFormatter={(value) => `$${value}`}\n                        tipProps={{\n                          placement: 'top',\n                          visible: true,\n                        }}\n                        value={price}\n                        onChange={(price) => setPrice(price)}\n                      />\n\n                      <hr className=\"my-5\" />\n\n                      <div className=\"mt-5\">\n                        <h4 className=\"mb-3\">Categories</h4>\n\n                        <ul className=\"pl-0\">\n                          {categories.map((category) => (\n                            <li\n                              style={{\n                                cursor: 'pointer',\n                                listStyleType: 'none',\n                              }}\n                              key={category}\n                              onClick={() => setCategory(category)}\n                            >\n                              {category}\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n\n                      <hr className=\"my-3\" />\n\n                      <div className=\"mt-5\">\n                        <h4 className=\"mb-3\">Ratings</h4>\n\n                        <ul className=\"pl-0\">\n                          {[5, 4, 3, 2, 1].map((star) => (\n                            <li\n                              style={{\n                                cursor: 'pointer',\n                                listStyleType: 'none',\n                              }}\n                              key={star}\n                              onClick={() => setRating(star)}\n                            >\n                              <div className=\"rating-outer\">\n                                <div\n                                  className=\"rating-inner\"\n                                  style={{\n                                    width: `${star * 20}%`,\n                                  }}\n                                ></div>\n                              </div>\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"col-6 col-md-9\">\n                    <div className=\"row\">\n                      {products.map((product) => (\n                        <Product key={product._id} product={product} col={4} />\n                      ))}\n                    </div>\n                  </div>\n                </Fragment>\n              ) : (\n                products.map((product) => (\n                  <Product key={product._id} product={product} col={3} />\n                ))\n              )}\n            </div>\n          </section>\n\n          {resPerPage <= count && (\n            <div className=\"d-flex justify-content-center mt-5\">\n              <Pagination\n                activePage={currentPage}\n                itemsCountPerPage={resPerPage}\n                totalItemsCount={productsCount}\n                onChange={setCurrentPageNo}\n                nextPageText={'Next'}\n                prevPageText={'Prev'}\n                firstPageText={'First'}\n                lastPageText={'Last'}\n                itemClass=\"page-item\"\n                linkClass=\"page-link\"\n              />\n            </div>\n          )}\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}