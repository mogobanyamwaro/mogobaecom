{"ast":null,"code":"import axios from 'axios';\nimport { ALL_PRODUCTS_REQUEST, ALL_PRODUCTS_SUCCESS, ALL_PRODUCTS_FAIL } from '../constants/productConstants';\nexport const getProducts = (keyword = '', currentPage = 1, price, category, rating = 0) => async dispatch => {\n  try {\n    dispatch({\n      type: ALL_PRODUCTS_REQUEST\n    });\n    let link = `/api/v1/products?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&ratings[gte]=${rating}`;\n\n    if (category) {\n      link = `/api/v1/products?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&category=${category}&ratings[gte]=${rating}`;\n    }\n\n    const {\n      data\n    } = await axios.get(link);\n    dispatch({\n      type: ALL_PRODUCTS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ALL_PRODUCTS_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};","map":{"version":3,"sources":["/home/douglas/Music/ProShop/frontend/src/actions/productActions.js"],"names":["axios","ALL_PRODUCTS_REQUEST","ALL_PRODUCTS_SUCCESS","ALL_PRODUCTS_FAIL","getProducts","keyword","currentPage","price","category","rating","dispatch","type","link","data","get","payload","error","response","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SACEC,oBADF,EAEEC,oBAFF,EAGEC,iBAHF,QAIO,+BAJP;AAMA,OAAO,MAAMC,WAAW,GACtB,CAACC,OAAO,GAAG,EAAX,EAAeC,WAAW,GAAG,CAA7B,EAAgCC,KAAhC,EAAuCC,QAAvC,EAAiDC,MAAM,GAAG,CAA1D,KACA,MAAOC,QAAP,IAAoB;AAClB,MAAI;AACFA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AAEA,QAAIW,IAAI,GAAI,4BAA2BP,OAAQ,SAAQC,WAAY,eAAcC,KAAK,CAAC,CAAD,CAAI,eAAcA,KAAK,CAAC,CAAD,CAAI,iBAAgBE,MAAO,EAAxI;;AAEA,QAAID,QAAJ,EAAc;AACZI,MAAAA,IAAI,GAAI,4BAA2BP,OAAQ,SAAQC,WAAY,eAAcC,KAAK,CAAC,CAAD,CAAI,eAAcA,KAAK,CAAC,CAAD,CAAI,aAAYC,QAAS,iBAAgBC,MAAO,EAAzJ;AACD;;AAED,UAAM;AAAEI,MAAAA;AAAF,QAAW,MAAMb,KAAK,CAACc,GAAN,CAAUF,IAAV,CAAvB;AAEAF,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAET,oBADC;AAEPa,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID,GAfD,CAeE,OAAOG,KAAP,EAAc;AACdN,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAER,iBADC;AAEPY,MAAAA,OAAO,EAAEC,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK;AAFtB,KAAD,CAAR;AAID;AACF,CAxBI","sourcesContent":["import axios from 'axios';\n\nimport {\n  ALL_PRODUCTS_REQUEST,\n  ALL_PRODUCTS_SUCCESS,\n  ALL_PRODUCTS_FAIL,\n} from '../constants/productConstants';\n\nexport const getProducts =\n  (keyword = '', currentPage = 1, price, category, rating = 0) =>\n  async (dispatch) => {\n    try {\n      dispatch({ type: ALL_PRODUCTS_REQUEST });\n\n      let link = `/api/v1/products?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&ratings[gte]=${rating}`;\n\n      if (category) {\n        link = `/api/v1/products?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&category=${category}&ratings[gte]=${rating}`;\n      }\n\n      const { data } = await axios.get(link);\n\n      dispatch({\n        type: ALL_PRODUCTS_SUCCESS,\n        payload: data,\n      });\n    } catch (error) {\n      dispatch({\n        type: ALL_PRODUCTS_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  };\n"]},"metadata":{},"sourceType":"module"}